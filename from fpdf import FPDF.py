from fpdf import FPDF

# إنشاء كائن PDF
pdf = FPDF()
pdf.set_auto_page_break(auto=True, margin=15)
pdf.add_page()

# إضافة خط يدعم الأحرف غير اللاتينية (مثل الأحرف العربية)
pdf.add_font('ArialUnicode', '', 'arialuni.ttf', uni=True)
pdf.set_font('ArialUnicode', '', 12)

# إضافة عنوان
pdf.cell(200, 10, "شرح الكود: برنامج التعامل مع الأشجار الثنائية", ln=True, align='C')

# إضافة محتوى الشرح
pdf.ln(10)

content = """
1. تعريف الهياكل (Structures)

الهيكل Node:
- هذا الهيكل يمثل عقدة في الشجرة الثنائية. كل عقدة تحتوي على:
  - value: قيمة العقدة (من نوع int).
  - left: مؤشر إلى العقدة اليسرى.
  - right: مؤشر إلى العقدة اليمنى.

الهيكل BinarySearchTree:
- هذا الهيكل يمثل شجرة بحث ثنائية تحتوي على جذر (root) من نوع Node، ويكون هذا الجذر هو بداية الشجرة.

2. إنشاء عقدة جديدة
- دالة createNode تقوم بإنشاء عقدة جديدة.
- تخصيص الذاكرة للعقدة باستخدام malloc.
- تعيين القيمة التي تم تمريرها.
- تعيين المؤشرات left و right إلى NULL لأن العقدة الجديدة لا تحتوي على أبناء بعد.

3. إضافة قيمة إلى الشجرة
- دالة insertNode تضيف قيمة إلى الشجرة الثنائية.
- إذا كانت الشجرة فارغة (root == NULL)، يتم إنشاء عقدة جديدة.
- إذا كانت القيمة أصغر من القيمة الحالية في الجذر، يتم إضافتها إلى الشجرة اليسرى.
- إذا كانت القيمة أكبر أو تساوي، يتم إضافتها إلى الشجرة اليمنى.

4. إضافة قيمة إلى الشجرة في جدول الأشجار
- دالة addValue تقوم بإضافة قيمة إلى الشجرة في الفهرس المحدد في الجدول.
- تستخدم دالة insertNode لإضافة القيمة إلى الشجرة في الفهرس المحدد.

5. ملء الأشجار الفارغة بالقيم العشوائية
- دالة fillEmptyTrees تبحث في الجدول وتملأ الأشجار الفارغة بقيم عشوائية.
- يتم تحديد عدد العقد العشوائية التي ستضاف إلى الشجرة عبر rand() % maxNodes + 1.
- بعد تحديد عدد العقد، يتم إضافة قيم عشوائية من 0 إلى 1000 باستخدام rand().

6. ترتيب الأشجار في الجدول باستخدام الترتيب الفقاعي (Bubble Sort)
- دالة bubbleSort تقوم بترتيب الأشجار في الجدول بناءً على الجذر (أصغر قيمة في الشجرة).
- يستخدم الترتيب الفقاعي للمقارنة بين قيم الجذور.
- إذا كانت قيمة الجذر في الشجرة في الفهرس الأول أكبر من قيمة الجذر في الفهرس الثاني، يتم التبديل بين الأشجار.

7. بحث عن قيمة في شجرة معينة
- دالة searchInTree تبحث عن قيمة معينة في شجرة محددة داخل الجدول.
- أولاً تتحقق من صحة الفهرس.
- ثم تتحقق إذا كانت الشجرة فارغة.
- وأخيرًا، تستخدم دالة searchNode للبحث عن القيمة في الشجرة.

8. التنقل عبر الشجرة (Traversal)
- التنقل Inorder:
  - تطبع القيم باستخدام التنقل Inorder (يسار، جذر، يمين).
- التنقل Preorder:
  - تطبع القيم باستخدام التنقل Preorder (جذر، يسار، يمين).
- التنقل Postorder:
  - تطبع القيم باستخدام التنقل Postorder (يسار، يمين، جذر).

9. القائمة الرئيسية (Menu)
- دالة menu توفر واجهة تفاعل مع المستخدم.
- المستخدم يختار من مجموعة من الخيارات مثل إضافة قيمة، ملء الأشجار، البحث، ترتيب الأشجار، الخ.
- بناءً على اختيار المستخدم، يتم استدعاء الدوال المناسبة.

10. الدالة الرئيسية main
- دالة main تقوم بترحيب المستخدم وتستدعي دالة menu لتشغيل البرنامج.
- بعد الخروج من القائمة، تطبع رسالة وداع.
"""

pdf.multi_cell(0, 10, content)

# حفظ الـ PDF
output_path = "شرح_الكود_برنامج_الأشجار_الثنائية.pdf"
pdf.output(output_path)

print("تم إنشاء ملف PDF بنجاح في:", output_path)
